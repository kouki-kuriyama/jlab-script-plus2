# jlab-script-plus 2.0 beta2
jlab-script-plus 2.0 は実況ろだ向け（とは言うものの一般向けアップローダーでも使える）アップローダースクリプトです。  
Native PHPとNative Javascriptでコーディングされている為、軽量かつ高速なアップローダーを簡単に構築することができます。  
画像は設定した期間保存され、保存期間を過ぎた画像は自動的に削除されるため、半自動でアップローダーを運用することができます。  

**Beta版の為、不具合が存在する場合があります**  

## Beta2 概要
旧版jlab-script-plusや、jlab-script-plus 2.0 beta1では画像ファイルの転送にBase64形式を使用していましたが、今回から **Blob（Binary Large Object, 一部界隈では "ぶよぶよしたもの" ）** で転送する方式に変更しました。これにより10MB超の画像も安定して転送できるようになりました。その他Javascriptを書き直していますが、機能的にはbeta1と同一のものとなります。

## 必要環境
- PHP 5.4 以上（PHP7.1以上の環境推奨）
- GDライブラリ
- nginx 1.11.0以上 + php-fpm または Apache 2.2以上
 - レンタルサーバー等で稼働予定の場合はここは気にしなくても問題無いです。

## ダウンロード
右上の **Clone or Download** から **Download ZIP** を選択してスクリプト一式をダウンロードしてください。

## ファイル・ディレクトリ一覧
初期設定では以下の通りにファイル、ディレクトリを設置することにより動作します。  
d,s,tフォルダ（フォルダ名は **manage.php** で変更可能）は各自で作成してください。  
[707] は推奨パーミッションを表しています。（サーバにより推奨の設定は異なります。）index.htmlが生成できないエラーが表示された場合は、この親フォルダのパーミッションを一時的に変更することにより正常に動作します。

- /s *[707]*
- /d *[707]*
- /t *[707]*
- /static
- /application
- custom-html.php
- manage.php

## 設置方法
1. **manage.php** を開いて各項目を設定します。
2. すべてのファイル・ディレクトリを稼働させる環境に設置します。
3. ブラウザから **manage.php** にアクセスしてアップローダートップページが表示され、ホームディレクトリに **master.js** と **index.html** が配置されていれば設置完了です。

## 設定の変更方法
1. ホームディレクトリに配置されている **master.js** と **index.html** を削除します。
2. **manage.php** を開いて設定を変更し、**manage.php** を上書きします。
3. ブラウザから **manage.php** にアクセスしてアップローダートップページが表示され、ホームディレクトリに **master.js** と **index.html** が配置されていれば設定変更完了です。

## 再配布等について
再配布・転載・フォークはご自由にしていただいて構いません。
バグ修正版の公開等はこのGitHubでのみ行います。

## 動作確認環境
- nginx 1.17.10 + php-fpm
- CentOS 8 x86_64
- PHP 7.4.5（+gd +mcrypt）

## 開発環境
- macOS 10.15
- mi 3（テキストエディタ）